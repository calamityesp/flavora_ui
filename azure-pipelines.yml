# Node.js
# Build a general Node.js project with npm.
# Add steps that analyze code, save build artifacts, deploy, and more:
# https://docs.microsoft.com/azure/devops/pipelines/languages/javascript

trigger:
  - master

variables:
  dockerRegistryServiceConnection: '{{ containerRegistryConnection.Id }}'

pool:
  vmImage: "ubuntu-latest"

stages:
  - stage: Build
    displayName: Build and Push
    jobs:
    - job: Build
      pool:
        vmImage: 'ubuntu-latest'
      steps:
      - task: Docker@2
        inputs:
          containerRegistry: 'Madrizz Container Registry'
          repository: 'flavora_ui'
          command: 'buildAndPush'
          Dockerfile: '**/Dockerfile'

